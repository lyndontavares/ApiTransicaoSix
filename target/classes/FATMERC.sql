--<ScriptOptions statementTerminator=";"/>

CREATE TABLE FATMERC (
		NCODIMERC NUMBER(6 , 0) NOT NULL,
		NCODITEMB NUMBER(3 , 0) NOT NULL,
		NCODISGPD NUMBER(5 , 0) NOT NULL,
		NCODIDEPA NUMBER(2 , 0),
		NCODIFILI NUMBER(2 , 0),
		CNOMEMERC VARCHAR2(50) NOT NULL,
		CTIPOMERC VARCHAR2(1) DEFAULT 'P'  NOT NULL,
		NPMMXMERC NUMBER(5 , 2),
		CSIRGMERC VARCHAR2(1) DEFAULT 'A'  NOT NULL,
		NPRVEMERC NUMBER(17 , 6),
		NPMMNMERC NUMBER(5 , 2),
		CLODPMERC VARCHAR2(30),
		CFABRMERC VARCHAR2(30),
		CCDFBMERC VARCHAR2(20),
		NCODIANTE NUMBER(5 , 0),
		NCODIMOED NUMBER(2 , 0) NOT NULL,
		NESMIMERC NUMBER(15 , 4) DEFAULT 0,
		NESMAMERC NUMBER(15 , 4) DEFAULT 0,
		CCEREMERC VARCHAR2(1) DEFAULT 'N',
		NKGBUMERC NUMBER(15 , 4) DEFAULT 0,
		CPGCOMERC VARCHAR2(1) DEFAULT 'S'  NOT NULL,
		CNOIMMERC VARCHAR2(50),
		CCTVRMERC VARCHAR2(1) DEFAULT 'N'  NOT NULL,
		CLDEPMERC VARCHAR2(30),
		NDESPCONT NUMBER(5 , 0),
		NRECECONT NUMBER(5 , 0),
		NPRCUMERC NUMBER(17 , 6),
		NCODITPPH NUMBER(8 , 0),
		NCODICIVA NUMBER NOT NULL,
		CCOLOMERC VARCHAR2(1) DEFAULT 'N'

,
		CCONSMERC VARCHAR2(1) DEFAULT 'N'

,
		NPESOMERC NUMBER(10 , 3) DEFAULT 0

,
		NMADEMERC NUMBER(5 , 2) DEFAULT 0  NOT NULL,
		NCODILNCM NUMBER(10 , 0),
		CREGIMERC VARCHAR2(1) DEFAULT 'N'
,
		NCODICLTX NUMBER(3 , 0),
		NCODIESQU NUMBER(6 , 0),
		CRESEMERC VARCHAR2(20),
		CTPIMMERC VARCHAR2(1) DEFAULT 'N'
,
		CAPLIMERC VARCHAR2(500),
		CCFOPMERC VARCHAR2(1),
		CUTILMERC VARCHAR2(1),
		CORIGMERC VARCHAR2(1),
		CSUPRMERC VARCHAR2(1),
		CIDENMERC VARCHAR2(15),
		NCORECONT NUMBER(5 , 0),
		NCOINMERC NUMBER(5 , 0),
		NLARGMERC NUMBER(5 , 0),
		NALTUMERC NUMBER(5 , 0),
		NCOMPMERC NUMBER(5 , 0),
		CSUBPRODU VARCHAR2(1) DEFAULT 'N'  NOT NULL,
		CCLASMERC VARCHAR2(4),
		DULUPMERC DATE DEFAULT sysdate

	);

CREATE INDEX IFK_NCODISGPD_FATMERC ON FATMERC (NCODISGPD ASC);

CREATE INDEX IFK_DEPART_FATMERC ON FATMERC (NCODIDEPA ASC, NCODIFILI ASC);

CREATE INDEX IFK_NCODITEMB_FATMERC ON FATMERC (NCODITEMB ASC);

CREATE INDEX IND_CNOMEMERC ON FATMERC (CNOMEMERC ASC);

CREATE INDEX FK_FATMERC_NCODICIVA ON FATMERC (NCODICIVA ASC);

CREATE UNIQUE INDEX PK_FATMERC ON FATMERC (NCODIMERC ASC);

CREATE INDEX IND_CCDFBMERC ON FATMERC (CCDFBMERC ASC);

CREATE INDEX IFK_NCODIMOED_FATMERC ON FATMERC (NCODIMOED ASC);

CREATE INDEX IFK_NCODIDEPA_FATMERC ON FATMERC (NCODIFILI ASC, NCODIDEPA ASC);

ALTER TABLE FATMERC ADD CONSTRAINT PK_FATMERC PRIMARY KEY (NCODIMERC);

ALTER TABLE FATMERC ADD CONSTRAINT FK_NCODIDEPA_FATMERC FOREIGN KEY (NCODIFILI, NCODIDEPA)
	REFERENCES CFGDEPA (NCODIFILI, NCODIDEPA)
	ON DELETE RESTRICT
	ON UPDATE CASCADE;

ALTER TABLE FATMERC ADD CONSTRAINT FK_NCOINMERC_FATMERC FOREIGN KEY (NCOINMERC)
	REFERENCES CONCONT (NCORECONT)
	ON DELETE RESTRICT
	ON UPDATE CASCADE;

ALTER TABLE FATMERC ADD CONSTRAINT FK_NCODISGPD_FATMERC FOREIGN KEY (NCODISGPD)
	REFERENCES FATSGPD (NCODISGPD)
	ON DELETE RESTRICT
	ON UPDATE CASCADE;

ALTER TABLE FATMERC ADD CONSTRAINT FK_FATMERC_NCODICIVA FOREIGN KEY (NCODICIVA)
	REFERENCES CFGCIVA (NCODICIVA)
	ON DELETE RESTRICT
	ON UPDATE CASCADE;

ALTER TABLE FATMERC ADD CONSTRAINT FK_NCORECONT_FATMERC FOREIGN KEY (NCORECONT)
	REFERENCES CONCONT (NCORECONT)
	ON DELETE RESTRICT
	ON UPDATE CASCADE;

ALTER TABLE FATMERC ADD CONSTRAINT FK_NCODIMOED_FATMERC FOREIGN KEY (NCODIMOED)
	REFERENCES CFGMOED (NCODIMOED)
	ON DELETE RESTRICT
	ON UPDATE CASCADE;

ALTER TABLE FATMERC ADD CONSTRAINT FK_NCODITEMB_FATMERC FOREIGN KEY (NCODITEMB)
	REFERENCES FATTEMB (NCODITEMB)
	ON DELETE RESTRICT
	ON UPDATE CASCADE;

